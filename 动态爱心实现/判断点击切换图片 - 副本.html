<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>点击切换下一张图</title>
		<style>
			*{
				margin: 0;
				padding: 0;
			}
			a{text-decoration: none;cursor: pointer;}
			ul, li{list-style: none;}
			.container{
				width:1200px;
				margin: 150px auto;
			}
			body{
				font-family:"微软雅黑";
				font-size: 14px;
				color: #ccc;
			}
			.container .tab {
				width: 350px;
				margin: auto;
			}
			ul::after{
				content:"";
				display:block;
				clear:both;
			}
			.container .tab li{
				float: left;
				margin-right: 10px ;
				padding: 7px 15px;
				background: #000;
				color: #fff;
				cursor: pointer;
			}
			.container .box {
				width: 350px;
				height:260px;
				margin: auto;
				background: #FFC0CB;
				position: relative;
			}
			.container .box .page-top{
				background: #000;
				margin: auto;
				color: #fff;
				width: 350px;
				opacity: 0.5;
				text-align: center;
				position: absolute;
			}
			.container .box .page-box li{
				display: none;
				font-size: 0;
			}	
			.container .box .page-box .on{
				display: block;
			}				
			.box li img{
				width: 100%;
				height: 260px;
				}
			.box .page-bottom{
				background: #000;
				margin: auto;
				color: #fff;
				width: 350px;
				opacity: 0.5;
				text-align: center;
				position: absolute;
				bottom: 0;
			}
			.pre{
				position: absolute;
				top: 50%;
				padding: 5px;
				background: #000;
				opacity: 0.5;
				color: #fff;
			}
			.next{
				position: absolute;
				top: 50%;
				right: 0;
				padding: 5px;
				background: #000;
				opacity: 0.5;
				color: #fff;
			}
			.container .tab .hover{
				background: #fe6604;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<div class="tab">
				<ul>
					<li class="hover">循环切换</li>
					<li>单边切换</li>
				</ul>
			</div>
			<div class="box">
				
					<div class="info">
						<p class="page-top"><span>1</span>/6</p>
						<p class="page-bottom">第<span>一</span>张图片</p>	
					</div>
					<div class="page-box">
						<ul>
							<li class="on"><img src="img/1.jpg" alt=""></li>
							<li ><img src="img/2.jpg" alt=""></li>
							<li ><img src="img/3.jpg" alt=""></li>
							<li ><img src="img/4.jpg" alt=""></li>
							<li ><img src="img/5.jpg" alt=""></li>
							<li ><img src="img/6.jpg" alt=""></li>
						</ul>	
					</div>
					<a class="pre">上一张</a>	
					<a class="next">下一张</a>
				
				<script>
					var abtn = document.querySelectorAll(".tab li"), //获取上面的切换按钮
						oA = document.querySelectorAll(".box a"), //获取上一张下一张
						ali = document.querySelectorAll(".page-box li") //获取6张列表图片
						topNum = document.querySelector(".info .page-top span"),// 获取top序号1
						botNum = document.querySelector(".info .page-bottom span"),// 获取bottom序号
						arr =["一","二","三","四","五","六"],
						index = 0,
						x = 0,
						flag =true;
						
						for(var i=0;i<abtn.length;i++){
							abtn[i].a =i 
							abtn[i].onclick = function(){
								abtn[x].className = ""
								x = this.a
								this.className = "hover"
								if(x==0){
									flag = true
								}else{
									flag = false
								}
								console.log(flag)
							}
							
							oA[i].b = i
							oA[i].onclick = function(){
								
								if(this.b==1){					//如果点击的是'下一张'按钮
									ali[index].className = ""  //清空上一张的属性
									index++
//									console.log(ali.length-1)
									if(index>ali.length-1){
											if(flag){
													index = 0
											}else{
													alert("已经是最后一张了")
													index=ali.length-1
												}
									}
										
									ali[index].className = "on" 	//给当前添加属性
									topNum.innerHTML = index+1
									botNum.innerHTML = arr[index]
										
								}else{
									ali[index].className = ""  //清空上一张的属性
									index--
									if(index<0){
											if(flag){
													index = ali.length-1
											}else{
													alert("已经是最后一张了")
													index=0
												}
									}
									ali[index].className = "on" 	//给当前添加属性
									topNum.innerHTML = index+1
									botNum.innerHTML = arr[index]
								}
							}
						}	
						
						
				
//						console.log(index)
				</script>	
			</div>
		</div>
	</body>
</html>

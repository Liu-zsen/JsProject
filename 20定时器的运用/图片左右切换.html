<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>定时器轮播图</title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			.box{
				position:relative;
				width: 738px;
				height: 430px;
				margin: 50px auto;
				box-shadow: 0 0 5px 1px #aaa;
				overflow:hidden;
			}
			.box .pic img{
				display: none;
				position: absolute;
				top: 0;
				width: 100%;
				height: 430px;
			}
			.box .ol{
				position: absolute;
				bottom: 5px;
				width: 100%;
				line-height: 15px;
				font-size: 0;
				text-align: center;
			}
			.box .ol a{
				display: inline-block;
				width: 12px;
				height: 12px;
				margin: 0 3px;
				background-color:#eee;
				border-radius: 50%;
			}
			.box .ol .on{
				background: purple;
			}
		</style>
	</head>
	<body>
		<div class="box">
			<div class="pic">
				<img src="img/1.jpg" alt="" />
				<img src="img/2.jpg" alt="" />
				<img src="img/3.jpg" alt="" />
				<img src="img/4.jpg" alt="" />
				<img src="img/5.jpg" alt="" />
			</div>
			<div class="ol">
				<a class="on" href="javascript:"></a>
				<a href="javascript:"></a>
				<a href="javascript:"></a>
				<a href="javascript:"></a>
				<a href="javascript:"></a>
			</div>
			<div class="btn">
				
			</div>
		</div>
		<script>
			var aImg = document.querySelectorAll(".pic img")
			var aA = document.querySelectorAll('.ol a')
			var n = 0
			aImg[n].style.display = 'block'
			for(var i=0;i<aA.length;i++){
				aA[i].index = i
				aA[i].onclick = function(){
					if(n!=this.index){
						for(var j=0;j<aA.length;j++){
						aA[j].className = ""
						}
						this.className = "on";
						auto(this.index);
						
					}
				}
				function auto(obj){
							var x = n
							
				console.log(n)
							var left = 0,end = -738
							window.a = setInterval(function(){
								left-=12
								if(left<=end ){
									left = end
									clearInterval(window.a)
								}
								aImg[x].style.left  = left+"px"
							})
							n = obj
							var state = 738
							window.b = setInterval(function(){
								state-=12
								if(state<=0){
									state =0
									clearInterval(window.b)
								}
								aImg[n].style.left  = state+"px"
								aImg[n].style.display  = "block"
							})
							
					}	
			}
			
		</script>
		<!--<script type="text/javascript">
		
		var	aImg = document.querySelectorAll(".pic img")
		var	aA = document.querySelectorAll(".ol a")
		var n = 0
		aImg[n].style.display = "block"
		for(var i=0;i<aA.length;i++){
			aA[i].index = i
			aA[i].onclick = function(){
				if(n!=this.index){
					for (var j=0;j<aA.length;j++) {
						aA[j].className = ""		//清空其他的class
					}
					this.className = "on"			//给当前下标添加class
					var left = 0,end =-738
					
				 	var x = n 			//重点！ 必须要将 n存起来
					window.a = setInterval(function(){
						left -= 12
						if(left<=end){
							left = end
							clearInterval(window.a)
						}
					aImg[x].style.left = left+"px"	
					},13)
					
					n = this.index				//将当前的下表赋值给n
					var state = 738
					window.b = setInterval(function(){
						state-= 12
						if(state<=0){
							state = 0
							clearInterval(window.b)
						}
						aImg[n].style.left = state+"px"
						aImg[n].style.display = "block"  //显示当前下标对应的 aImg
					},13)
				
				}
			}
		}
		</script>-->
	</body>
</html>
